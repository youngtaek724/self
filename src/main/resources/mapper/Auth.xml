<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.app.auth.mapper.AuthMapper">

	<!-- 회원가입 -->
<insert id="insertSignUp" parameterType="authSignVO" useGeneratedKeys="true" keyProperty="id">
	INSERT INTO user_info (
		user_id,
		password,
		name,
		phone,
		default_addr,
		detail_addr,
		zip_code,
		email,
		type,
		status,
		rank_id
	) VALUES (
		#{userId},
		#{password},
		#{name},
		#{phone},
		#{defaultAddr},
		#{detailAddr},
		#{zipCode},
		#{email},
		#{type},
		#{status},
		#{rankId}
	)
	</insert>

	<!-- 이메일 중복체크 -->
	<select id="checkEmail" parameterType="String" resultType="Boolean">
		SELECT CASE WHEN COUNT(*) > 0 THEN TRUE ELSE FALSE END
		FROM user_info
		WHERE email = #{email}
	</select>

		<!-- 아이디 중복체크 -->
	<select id="checkId" parameterType="String" resultType="Boolean">
		SELECT CASE WHEN COUNT(*) > 0 THEN TRUE ELSE FALSE END
		FROM user_info
		WHERE user_id = #{userId}
	</select>

</mapper>